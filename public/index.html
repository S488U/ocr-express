<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR Express | Instant Image-to-Text</title>
    <meta name="description" content="Professional-grade OCR extraction using Tesseract WASM. Fast, secure, and private." />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: { brand: '#FFD700', dark: '#09090b', card: '#18181b', border: '#27272a' }
                }
            }
        }
    </script>
    <style>
        body { background-color: #09090b; color: #fafafa; }
        .glass { background: rgba(24, 24, 27, 0.8); backdrop-filter: blur(12px); border: 1px solid #27272a; }
        .drop-active { border-color: #FFD700; background: rgba(255, 215, 0, 0.05); }

        /* --- Sleek Custom Scrollbar --- */
        /* Webkit (Chrome, Edge, Safari) */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #3f3f46; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #FFD700; }
        
        /* Firefox */
        * { scrollbar-width: thin; scrollbar-color: #3f3f46 transparent; }
    </style>
</head>
<body class="antialiased flex flex-col min-h-screen">

    <!-- Header -->
    <nav class="sticky top-0 z-40 w-full border-b border-border glass">
        <div class="container mx-auto px-4 h-16 flex items-center justify-between">
            <a href="/" class="flex items-center gap-2 group">
                <div class="bg-brand p-1.5 rounded-lg group-hover:rotate-12 transition-transform">
                    <i data-lucide="scan-text" class="w-6 h-6 text-black"></i>
                </div>
                <span class="text-xl font-bold tracking-tight">OCR<span class="text-brand">Express</span></span>
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-zinc-400">
                <a href="/" class="text-brand">Home</a>
                <a href="/about.html" class="hover:text-brand transition-colors">About</a>
                <a href="/api.html" class="hover:text-brand transition-colors">API</a>
                <a href="https://github.com/s488u/ocr-express" target="_blank" class="flex items-center gap-1 hover:text-white">
                    <i data-lucide="github" class="w-4 h-4"></i> GitHub
                </a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden text-zinc-300 hover:text-white">
                <i data-lucide="menu" class="w-7 h-7"></i>
            </button>
        </div>

        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-border bg-card">
            <div class="flex flex-col p-4 gap-4 text-zinc-400">
                <a href="/" class="text-brand font-medium">Home</a>
                <a href="/about.html" class="hover:text-brand">About</a>
                <a href="/api.html" class="hover:text-brand">API Reference</a>
                <a href="https://github.com/s488u/ocr-express" class="hover:text-brand">GitHub</a>
            </div>
        </div>
    </nav>

    <main class="flex-grow container mx-auto max-w-5xl px-4 py-12">
        <!-- Hero -->
        <div class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-extrabold mb-4 tracking-tight text-transparent bg-clip-text bg-gradient-to-b from-white to-zinc-400">
                Extract text from images
            </h1>
            <p class="text-zinc-400 text-lg max-w-xl mx-auto">
                Secure, private, and high-performance OCR powered by WebAssembly.
            </p>
        </div>

        <!-- Tool Container -->
        <div class="glass rounded-2xl sm:rounded-3xl p-4 sm:p-8 shadow-2xl relative overflow-hidden">
            <form id="ocr-form" class="space-y-4 sm:space-y-6">
                
                <!-- Upload Area (More compact on mobile) -->
                <div id="upload-area" class="relative group border-2 border-dashed border-zinc-700 rounded-xl sm:rounded-2xl p-6 sm:p-12 text-center transition-all hover:border-brand/50 hover:bg-zinc-900/50 cursor-pointer">
                    <input type="file" id="file-input" accept="image/*" multiple class="hidden" />
                    <div class="flex flex-col items-center gap-3 sm:gap-4">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 bg-zinc-800 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg">
                            <i data-lucide="upload-cloud" class="w-6 h-6 sm:w-8 sm:h-8 text-zinc-400 group-hover:text-brand"></i>
                        </div>
                        <div>
                            <p class="text-base sm:text-lg font-semibold text-zinc-200">Drop images or click to browse</p>
                            <p class="text-xs sm:text-sm text-zinc-500 mt-1">Supports PNG, JPG, WebP</p>
                        </div>
                        <!-- Button is smaller on mobile now -->
                        <button type="button" id="select-btn" class="mt-1 sm:mt-2 bg-zinc-100 text-black px-4 sm:px-6 py-2 rounded-full font-bold text-xs sm:text-sm hover:bg-brand transition-colors shadow-md">
                            Select Files
                        </button>
                    </div>
                </div>

                <!-- Thumbnails Grid -->
                <div id="thumbs-container" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2 sm:gap-4 empty:hidden">
                    <!-- Thumbnails injected here via JS -->
                </div>

                <!-- URL Input & Run Button (Fixed Heights) -->
                <div class="flex flex-col sm:flex-row gap-3">
                    <div class="relative flex-grow">
                        <i data-lucide="link" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"></i>
                        <!-- Added h-12 to enforce height -->
                        <input type="url" id="image-url" placeholder="Paste image URL (optional)" 
                            class="w-full h-12 bg-zinc-900/50 border border-border rounded-xl px-10 focus:outline-none focus:ring-2 focus:ring-brand/50 focus:border-brand transition-all text-sm" />
                    </div>
                    <!-- Added h-12 to match input exactly -->
                    <button type="submit" id="run-btn" class="w-full sm:w-auto h-12 px-8 bg-brand text-black rounded-xl font-bold text-lg hover:brightness-110 active:scale-[0.98] transition-all flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(255,215,0,0.3)]">
                        <i data-lucide="zap" class="w-5 h-5 fill-current"></i>
                        <span>Run OCR</span>
                    </button>
                </div>
            </form>

            <!-- Error Display -->
            <div id="error" class="text-red-400 text-center mt-6 font-medium hidden animate-pulse"></div>

            <!-- Results Stack -->
            <div id="results-stack" class="mt-8 sm:mt-12 space-y-4 sm:space-y-6 empty:hidden"></div>
        </div>
    </main>

    <!-- Modal Carousel -->
    <div id="modal-bg" class="hidden fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 backdrop-blur-md">
        <button id="modal-close" class="absolute top-4 right-4 z-50 p-2 bg-zinc-800 text-white rounded-full hover:bg-red-500 transition-colors">
            <i data-lucide="x" class="w-6 h-6"></i>
        </button>

        <button id="modal-prev" class="absolute left-4 z-50 p-3 bg-zinc-800/50 text-white rounded-full hover:bg-brand hover:text-black transition-colors hidden md:block">
            <i data-lucide="chevron-left" class="w-8 h-8"></i>
        </button>
        
        <img id="modal-img" src="" class="max-h-[85vh] max-w-full rounded-lg shadow-2xl object-contain" />
        
        <button id="modal-next" class="absolute right-4 z-50 p-3 bg-zinc-800/50 text-white rounded-full hover:bg-brand hover:text-black transition-colors hidden md:block">
            <i data-lucide="chevron-right" class="w-8 h-8"></i>
        </button>

        <!-- Mobile Controls Bottom -->
        <div class="absolute bottom-6 flex gap-6 md:hidden">
            <button id="modal-prev-m" class="p-3 bg-zinc-800 rounded-full text-white"><i data-lucide="chevron-left" class="w-6 h-6"></i></button>
            <button id="modal-next-m" class="p-3 bg-zinc-800 rounded-full text-white"><i data-lucide="chevron-right" class="w-6 h-6"></i></button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-border py-8 bg-zinc-950 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <p class="text-zinc-500 text-sm mb-2">Â© 2025 OCR Express. All rights reserved.</p>
            <p class="text-xs text-zinc-600 font-mono">Frontend Designed by Gemini AI</p>
        </div>
    </footer>

    <script src="/navbar.js"></script>
    <script src="/main.js"></script>
    <script>lucide.createIcons();</script>
</body>
</html>